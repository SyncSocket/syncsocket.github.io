---
title: Server API (0.2.11)
---

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Channel.html">Channel</a><ul class='methods'><li data-type='method'><a href="Channel.html#addClient">addClient</a></li><li data-type='method'><a href="Channel.html#hasClient">hasClient</a></li></ul></li><li><a href="Server.html">Server</a><ul class='methods'><li data-type='method'><a href="Server.html#addToChannel">addToChannel</a></li><li data-type='method'><a href="Server.html#close">close</a></li><li data-type='method'><a href="Server.html#createChannel">createChannel</a></li><li data-type='method'><a href="Server.html#embeddedTimeserver">embeddedTimeserver</a></li><li data-type='method'><a href="Server.html#getChannel">getChannel</a></li><li data-type='method'><a href="Server.html#serveClient">serveClient</a></li><li data-type='method'><a href="Server.html#timeserverHost">timeserverHost</a></li><li data-type='method'><a href="Server.html#timeserverPort">timeserverPort</a></li></ul></li></ul><h3>Events</h3><ul><li><a href="Channel.html#event:clientStateChange">clientStateChange</a></li><li><a href="Channel.html#event:join">join</a></li><li><a href="Channel.html#event:left">left</a></li><li><a href="Channel.html#event:scheduledMessage">scheduledMessage</a></li><li><a href="Server.html#event:connection">connection</a></li><li><a href="Server.html#event:disconnect">disconnect</a></li></ul>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><h1>SyncSocket</h1><p>Synchronized messaging application framework server</p>
<p><a href="https://travis-ci.org/woyorus/syncsocket"><img src="https://travis-ci.org/woyorus/syncsocket.svg?branch=master" alt="Build Status"></a> <a href="https://codecov.io/gh/woyorus/syncsocket"><img src="https://codecov.io/gh/woyorus/syncsocket/branch/master/graph/badge.svg" alt="codecov"></a> <a href=""><img src="https://img.shields.io/npm/v/syncsocket.svg?maxAge=2592000" alt="npm"></a></p>
<h2>API Docs</h2><h3>Channel</h3><p>Channel constructor.</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>server</code> <strong><a href="#server">Server</a></strong> The server object</li>
<li><code>opts</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a></strong> Options<ul>
<li><code>opts.channelId</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> The channel id (string). If not passed, will generate a random one</li>
<li><code>opts.timeserver</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> The timeserver which channel will use (if not set, will use the server's default)</li>
<li><code>opts.autoSyncClients</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></strong> Automatically instruct unsynchronized clients to re-synchronize</li>
</ul>
</li>
</ul>
<h4>addClient</h4><p>Adds client to the channel</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>client</code> <strong>Client</strong> </li>
</ul>
<h4>hasClient</h4><p>Whether a client is joined this channel</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>client</code>  </li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></strong> </p>
<h3>Channel#join</h3><p>Client joined the channel</p>
<h3>Channel#left</h3><p>Client left the channel</p>
<h3>Channel#clientStateChange</h3><p>Client has switched state</p>
<p><strong>Properties</strong></p>
<ul>
<li><code>client</code> <strong>Client</strong> </li>
<li><code>newState</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
</ul>
<h3>Channel#scheduledMessage</h3><p>An event has been scheduled</p>
<p><strong>Properties</strong></p>
<ul>
<li><code>envelope</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a></strong> </li>
<li><code>time</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></strong> </li>
</ul>
<h3>Server</h3><p>Server constructor</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>srv</code> <strong>(http.Server | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a>)</strong> http server, port or options</li>
<li><code>opts</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a></strong> </li>
</ul>
<p><strong>Properties</strong></p>
<ul>
<li><code>embeddedTimeserver</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></strong> If set to true, an embedded timeserver will be launched</li>
<li><code>timeserverHost</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> Clients will connect to this timeserver if no timeserver specified for channel</li>
<li><code>timeserverPort</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></strong> Clients will connect to this timeserver if no timeserver specified for channel</li>
</ul>
<h4>serveClient</h4><p>Sets/gets whether client code is being served</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>v</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></strong> whether to serve client code</li>
</ul>
<p>Returns <strong>(<a href="#server">Server</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>)</strong> self when setting or value when getting</p>
<h4>embeddedTimeserver</h4><p>Sets/gets whether embedded timeserver is active</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>v</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></strong> whether to activate integrated timeserver</li>
</ul>
<p>Returns <strong>(<a href="#server">Server</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>)</strong> self when setting or value when getting</p>
<h4>timeserverHost</h4><p>Sets/gets timeserver host to which clients will connect if no timeserver specified for channel</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>v</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> default host</li>
</ul>
<p>Returns <strong>(<a href="#server">Server</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</strong> self when setting or value when getting</p>
<h4>timeserverPort</h4><p>Sets/gets timeserver port to which clients will connect if no timeserver specified for channel</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>v</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></strong> default port</li>
</ul>
<p>Returns <strong>(<a href="#server">Server</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</strong> self when setting or value when getting</p>
<h4>listen</h4><p>Attaches to a server or port</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>server</code> <strong>(http.Server | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</strong> or port</li>
<li><code>options</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></strong> </li>
</ul>
<p>Returns <strong><a href="#server">Server</a></strong> self</p>
<h4>createChannel</h4><p>Creates a channel</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>channelId</code> <strong>?<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> channel id or null. If null, then id will be generated</li>
</ul>
<p>Returns <strong><a href="#channel">Channel</a></strong> that has been created</p>
<h4>addToChannel</h4><p>Adds a client to a specific channel</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>client</code> <strong>Client</strong> </li>
<li><code>opts</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">object</a></strong> Options<ul>
<li><code>opts.channelId</code> <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> The channel ID to add client</li>
</ul>
</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></strong> Operation result</p>
<h4>getChannel</h4><p>Get specific channel</p>
<p><strong>Parameters</strong></p>
<ul>
<li><code>channelId</code>  Channel id</li>
</ul>
<p>Returns <strong>?<a href="#channel">Channel</a></strong> </p>
<h4>close</h4><p>Shuts down the server</p>
<p>Returns <strong><a href="#server">Server</a></strong> </p>
<h3>Server#connection</h3><p>Client has successfully connected</p>
<h3>Server#disconnect</h3><p>Client has disconnected</p></article>
    </section>






</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Thu Aug 11 2016 23:20:06 GMT-0400 (EDT) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
